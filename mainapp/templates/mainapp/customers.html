{% extends 'mainapp/base.html' %}
{% block content %}
  <div class="airport">
    <h1>{{customers.customer_name}}</h1>
    <p><b>Pasaport Numarası: </b>{{customers.passport_number}}</p>
    <p><b>Ülke: </b>{{customers.country}}</p>
    <p><b>Telefon No: </b>+{{customers.customer_phone}}</p>
    <p><b>Adres: </b>{{customers.address}}</p>
    <p><b>E-mail: </b>{{customers.email}}</p>
    {% for freq in ffcs%}
      {%if customers == freq.passport_number %}
        <p><b>Toplam kat edilen mesafe: </b>{{freq.milleage}}</p>
      {% endif %}
    {% endfor %}
    <h4><b>Bütün Uçuşları</b></h4>
    <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
      <table class="table table-striped table-bordered table-hover" id="dataTable">
        <thead class="thead-dark">
          <tr>
            <th>Flight_number.Leg_number</th>
            <th>Date</th>
            <th>Departure Airport</th>
            <th>Arrival Airport</th>
          </tr>
        </thead>
        <tbody>
          {% for leg in leg_instances%}
            {% for value in seats%}
              {% if leg == value.flight_number %}
                {% if customers == value.passport_number%}
                 <tr>
                  <td>{{ leg.flight_number }}</td>
                  <td>{{ leg.date }}</td>
                  <td>{{ leg.departure_airport_code }}</td>
                  <td>{{ leg.arrival_arport_code }}</td>
                </tr>
                {% endif %}
              {% endif %}
            {% endfor %}
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <td><strong>Flight_number.Leg_number</strong></td>
            <td><strong>Date</strong></td>
            <td><strong>Departure Airport</strong></td>
            <td><strong>Arrival Airport</strong></td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
{% endblock %}
